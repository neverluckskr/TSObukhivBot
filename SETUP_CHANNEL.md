# Настройка бота для работы с каналом

## Как добавить бота в канал и выдать права

### Шаг 1: Добавьте бота в канал как администратора

1. Откройте ваш Telegram-канал
2. Перейдите в **Настройки канала** (иконка шестеренки)
3. Выберите **Администраторы**
4. Нажмите **Добавить администратора**
5. Найдите вашего бота по username (например, `@TSObukhivBot`)
6. Выдайте боту следующие права:
   - ✅ **Публиковать сообщения** (обязательно!)
   - ✅ **Редактировать сообщения** (опционально)
   - ✅ **Удалять сообщения** (опционально)

### Шаг 2: Получите правильный ID канала

**Важно:** ID канала должен быть в формате `-1001234567890` (с минусом и префиксом `-100`)

#### Способ 1: Через бота @userinfobot
1. Отправьте любое сообщение в ваш канал
2. Перешлите это сообщение боту [@userinfobot](https://t.me/userinfobot)
3. Бот покажет ID канала в формате `-1001234567890`

#### Способ 2: Через веб-версию Telegram
1. Откройте канал в веб-версии Telegram (web.telegram.org)
2. Посмотрите URL - там будет ID канала

#### Способ 3: Через бота @RawDataBot
1. Добавьте бота [@RawDataBot](https://t.me/RawDataBot) в канал
2. Бот отправит информацию о канале, включая ID

### Шаг 3: Убедитесь, что модераторы начали диалог с ботом

Если бот не может отправить сообщение модератору, это значит:
- Модератор не начал диалог с ботом (не нажал `/start`)
- Или модератор заблокировал бота

**Решение:**
1. Попросите каждого модератора написать боту `/start`
2. Убедитесь, что модератор не заблокировал бота

### Шаг 4: Проверьте настройки в config.py

Убедитесь, что в `config.py` указаны правильные значения:

```python
CHANNEL_ID = "-1003595248840"  # Ваш ID канала
MODERATORS = "1716175980,751886453,..."  # ID модераторов через запятую
```

### Проверка работы

После настройки:
1. Отправьте тестовый пост через бота
2. Проверьте, что пост приходит модераторам
3. Одобрите пост и проверьте публикацию в канале

## Частые проблемы

### "chat not found" при отправке модератору
- Модератор не начал диалог с ботом
- Модератор заблокировал бота
- Неправильный ID модератора

### "chat not found" при публикации в канал
- Бот не добавлен в канал как администратор
- У бота нет прав на публикацию сообщений
- Неправильный CHANNEL_ID (должен быть с префиксом `-100`)

### Бот не может публиковать в канал
- Проверьте права администратора бота
- Убедитесь, что бот имеет право "Публиковать сообщения"
- Проверьте правильность CHANNEL_ID

